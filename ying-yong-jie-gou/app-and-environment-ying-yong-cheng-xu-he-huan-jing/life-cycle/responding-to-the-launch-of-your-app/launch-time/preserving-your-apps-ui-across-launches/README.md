---
description: 在系统终止应用后，将其恢复到之前的状态。
---

# Preserving your app’s UI across launches

## Overview

保留应用程序的用户界面有助于维持应用程序始终在运行的假象。在iOS设备上，中断情况可能频繁发生，长时间的中断可能会导致系统终止您的应用程序以释放资源。然而，用户并不知道您的应用程序已被终止，也不会期望应用程序的状态发生变化。相反，他们期望应用程序保持与他们离开时相同的状态。状态保存和恢复可确保您的应用程序在再次启动时恢复到先前的状态。

在适当的时候，UIKit 会将应用程序视图和视图控制器的状态保存到磁盘上的一个加密文件中。当应用程序终止并在稍后重新启动时，UIKit 会根据保存的数据重建视图和视图控制器。保存和恢复过程会自动启动，但你还必须进行一些特定的工作来支持这些过程：

* 启用对状态保存和恢复的支持。
* 为你想要保留的视图控制器分配恢复标识符。
* 在恢复时，根据需要重新创建视图控制器。
* 对恢复视图控制器到其先前状态所需的自定义数据进行编码和解码。

如果您完全在故事板中定义界面，UIKit 便知道如何重新创建视图控制器，并且会自动执行此操作。如果您不使用故事板，或者希望对视图控制器的创建和初始化有更多控制权，则可以自行创建它们。

要查看状态保留和恢复的示例，请参阅[Restoring your app’s state](https://developer.apple.com/documentation/uikit/restoring-your-app-s-state?language=objc)。\
